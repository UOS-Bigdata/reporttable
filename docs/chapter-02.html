<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; 데이터 요약표 작성의 기초 – R 과 Quarto 를 이용한 데이터 테이블 작성</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../docs/chapter-03.html" rel="next">
<link href="../docs/chapter-01.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-fb762249214fc7ee1b59eab0aac55b3a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색",
    "search-label": "검색"
  }
}</script>
<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script type="text/javascript">
 window.MathJax = {
  tex: {
    macros: {
    RR: '{\\mathbb R}',                    // a simple string replacement
    hatmat:'{\\pmb X ({\\pmb X}^t {\\pmb X} )^{-1} {\\pmb X}^t}',
    bold: ['\\boldsymbol{#1}',1] ,     // this macro has one parameter
    pardiff: ['\\frac{\\partial#2}{\\partial#1}', 2, 'x'], // this macro has an optional parameter that defaults to 'x'
    pardifftwo: ['\\frac{\\partial#1}{\\partial#2}', 2]
  },
  environments: {
  braced: ["\\left\\{", "\\right\\}"]
  }
 }
};
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../docs/chapter-02.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">데이터 요약표 작성의 기초</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="검색" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">R 과 Quarto 를 이용한 데이터 테이블 작성</a> 
        <div class="sidebar-tools-main">
    <a href="../R-과-Quarto-를-이용한-데이터-테이블-작성.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="검색"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">개요</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/chapter-00.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">효율적인 통계의 생산</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/chapter-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">결측자료의 발생원인과 유형</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/chapter-02.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">데이터 요약표 작성의 기초</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/chapter-03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">통계표 출판</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">부록</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">목차</h2>
   
  <ul>
  <li><a href="#서론" id="toc-서론" class="nav-link active" data-scroll-target="#서론">서론</a></li>
  <li><a href="#데이터의-요약" id="toc-데이터의-요약" class="nav-link" data-scroll-target="#데이터의-요약"><span class="header-section-number">3.1</span> 데이터의 요약</a>
  <ul class="collapse">
  <li><a href="#그릅의-지정-group_by" id="toc-그릅의-지정-group_by" class="nav-link" data-scroll-target="#그릅의-지정-group_by">그릅의 지정: <code>group_by()</code></a></li>
  <li><a href="#자료의-요약-summarize-또는-summarise" id="toc-자료의-요약-summarize-또는-summarise" class="nav-link" data-scroll-target="#자료의-요약-summarize-또는-summarise">자료의 요약: <code>summarize()</code> 또는 <code>summarise()</code></a></li>
  <li><a href="#제이터프레임의-컬럼명" id="toc-제이터프레임의-컬럼명" class="nav-link" data-scroll-target="#제이터프레임의-컬럼명">제이터프레임의 컬럼명</a></li>
  <li><a href="#컬럼의-위치-이동-relocate" id="toc-컬럼의-위치-이동-relocate" class="nav-link" data-scroll-target="#컬럼의-위치-이동-relocate">컬럼의 위치 이동: <code>relocate()</code></a></li>
  <li><a href="#컬럼의-선택-select" id="toc-컬럼의-선택-select" class="nav-link" data-scroll-target="#컬럼의-선택-select">컬럼의 선택: <code>select()</code></a></li>
  <li><a href="#재구조화-reframe" id="toc-재구조화-reframe" class="nav-link" data-scroll-target="#재구조화-reframe">재구조화: <code>reframe()</code></a></li>
  <li><a href="#컬럼명-변경-rename-또는-rename_with" id="toc-컬럼명-변경-rename-또는-rename_with" class="nav-link" data-scroll-target="#컬럼명-변경-rename-또는-rename_with">컬럼명 변경 <code>rename()</code> 또는 <code>rename_with</code></a></li>
  <li><a href="#정열-arrange" id="toc-정열-arrange" class="nav-link" data-scroll-target="#정열-arrange">정열: <code>arrange()</code></a></li>
  <li><a href="#컬럼-묶기-across" id="toc-컬럼-묶기-across" class="nav-link" data-scroll-target="#컬럼-묶기-across">컬럼 묶기 <code>across()</code></a></li>
  </ul></li>
  <li><a href="#데이터의-변환" id="toc-데이터의-변환" class="nav-link" data-scroll-target="#데이터의-변환"><span class="header-section-number">3.2</span> 데이터의 변환</a>
  <ul class="collapse">
  <li><a href="#긴-형식-pivot_longer" id="toc-긴-형식-pivot_longer" class="nav-link" data-scroll-target="#긴-형식-pivot_longer">긴 형식: <code>pivot_longer()</code></a></li>
  <li><a href="#넓은-형식-pivot_wider" id="toc-넓은-형식-pivot_wider" class="nav-link" data-scroll-target="#넓은-형식-pivot_wider">넓은 형식: <code>pivot_wider()</code></a></li>
  </ul></li>
  <li><a href="#실습-데이터요약표-만들기" id="toc-실습-데이터요약표-만들기" class="nav-link" data-scroll-target="#실습-데이터요약표-만들기"><span class="header-section-number">3.3</span> 실습: 데이터요약표 만들기</a>
  <ul class="collapse">
  <li><a href="#소개" id="toc-소개" class="nav-link" data-scroll-target="#소개">소개</a></li>
  <li><a href="#요약통계표" id="toc-요약통계표" class="nav-link" data-scroll-target="#요약통계표">요약통계표</a></li>
  <li><a href="#분할표" id="toc-분할표" class="nav-link" data-scroll-target="#분할표">분할표</a></li>
  <li><a href="#통계표-만들기" id="toc-통계표-만들기" class="nav-link" data-scroll-target="#통계표-만들기">통계표 만들기</a></li>
  <li><a href="#함수만들기" id="toc-함수만들기" class="nav-link" data-scroll-target="#함수만들기">함수만들기</a></li>
  <li><a href="#직접만든-함수-적용" id="toc-직접만든-함수-적용" class="nav-link" data-scroll-target="#직접만든-함수-적용">직접만든 함수 적용</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-datatable" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">데이터 요약표 작성의 기초</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="서론" class="level3">
<h3 class="anchored" data-anchor-id="서론">서론</h3>
<p>데이터 분석 과정에서 가장 중요한 단계 중 하나는 자료를 요약하고, 통계적으로 의미 있는 형태로 정리하는 것이다. 원시 데이터(raw data)는 보통 복잡하고 정리가 필요한 경우가 많으며, 이를 효율적으로 정리하지 않으면 분석의 방향을 설정하는 것이 어려워질 수 있다. 이러한 과정에서 R의 대표적인 데이터 처리 패키지인 <code>dplyr</code>과 <code>tidyr</code>이 강력한 도구로 활용된다.</p>
<p><code>dplyr</code>은 데이터 프레임을 다룰 때 가장 널리 사용되는 패키지로, 직관적인 문법과 강력한 기능을 제공한다. 특히, 데이터를 요약하고 통계 테이블을 생성하는 과정에서 코드의 가독성(tidy evaluation)을 높이고 실행 속도를 최적화할 수 있다는 점에서 유용하다. 특히, 연속적인 데이터 변환에서 <code>%&gt;%</code>(pipe 연산자)를 활용하면 여러 연산을 논리적으로 연결하여 가독성을 높일 수 있다.</p>
<p>통계 테이블을 만들 때 데이터는 종종 정리되지 않은 형태(untidy data)로 존재하며, 분석을 위해 올바른 형태로 변환해야 하는 경우가 많다. <code>tidyr</code> 패키지는 이러한 데이터 정리 과정에서 필수적인 역할을 한다. <code>tidyr</code>을 사용하면 넓은 형식(Wide format)과 긴 형식(Long format)의 자료로 상호 변환이 가능하다. 또한 결측값 및 불완전한 데이터 정리하는데 유용하게 사용된다.</p>
<p>대부분의 데이터 정리는 <strong>요약(summarization)</strong>과 <strong>변환(transformation)</strong>이 함께 이루어진다. <code>dplyr</code>과 <code>tidyr</code>은 각각의 역할을 수행하며, 함께 사용하면 더욱 강력한 데이터 처리 능력을 발휘할 수 있다.</p>
<div id="tbl-package-func" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-package-func-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
표&nbsp;3.1: <code>dplyr</code>과 <code>tidyr</code> 의 주요함수와 그 기능
</figcaption>
<div aria-describedby="tbl-package-func-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 28%">
<col style="width: 28%">
<col style="width: 42%">
</colgroup>
<thead>
<tr class="header">
<th>단계</th>
<th>기능</th>
<th>주요 함수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>데이터 요약</td>
<td>그룹별 통계 계산</td>
<td><code>group_by()</code>, <code>summarise()</code></td>
</tr>
<tr class="even">
<td>데이터 변환</td>
<td>넓은 형식 ↔︎ 긴 형식 변환</td>
<td><code>pivot_wider()</code>, <code>pivot_longer()</code></td>
</tr>
<tr class="odd">
<td>결측값 처리</td>
<td>누락된 값 제거 또는 대체</td>
<td><code>drop_na()</code>, <code>replace_na()</code></td>
</tr>
<tr class="even">
<td>변수 정리</td>
<td>새로운 변수 생성 또는 선택</td>
<td><code>mutate()</code>, <code>select()</code></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>이처럼 <code>dplyr</code>은 데이터를 요약하고 통계를 생성하는 역할을 하며, <code>tidyr</code>은 정리되지 않은 데이터를 보다 분석하기 쉬운 형태로 변환하는 역할을 한다. 따라서, 통계 테이블을 만들거나 데이터를 정리하는 모든 과정에서 <code>dplyr</code>과 <code>tidyr</code>은 필수적인 도구**이며, 이를 활용하면 데이터 분석의 효율성과 신뢰성을 크게 향상시킬 수 있다.</p>
</section>
<section id="데이터의-요약" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="데이터의-요약"><span class="header-section-number">3.1</span> 데이터의 요약</h2>
<p>이 절에서는 요약통계량을 도출하거나 보고서로 올리기위해 자료를 요약하여 정리하는 방법을 보이고자 한다.</p>
<p>먼저, 함수들을 설명하기 위한 간단한 데이터프레임을 만들어본다.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  이름 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"홍길동"</span>, <span class="st">"김영희"</span>, <span class="st">"박찬호"</span>, <span class="st">"이소라"</span>, <span class="st">"최민식"</span>),</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  도시 <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"서울"</span>, <span class="st">"부산"</span>, <span class="st">"서울"</span>, <span class="st">"인천"</span>, <span class="st">"부산"</span>),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  나이 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">28</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  점수 <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">75</span>, <span class="dv">82</span>, <span class="dv">95</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-table-ex-data" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-table-ex-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
표&nbsp;3.2: 예제 데이터프레임
</figcaption>
<div aria-describedby="tbl-table-ex-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">이름</th>
<th style="text-align: left;">도시</th>
<th style="text-align: right;">나이</th>
<th style="text-align: right;">점수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">홍길동</td>
<td style="text-align: left;">서울</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">80</td>
</tr>
<tr class="even">
<td style="text-align: left;">김영희</td>
<td style="text-align: left;">부산</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">90</td>
</tr>
<tr class="odd">
<td style="text-align: left;">박찬호</td>
<td style="text-align: left;">서울</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: left;">이소라</td>
<td style="text-align: left;">인천</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">82</td>
</tr>
<tr class="odd">
<td style="text-align: left;">최민식</td>
<td style="text-align: left;">부산</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">95</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<section id="그릅의-지정-group_by" class="level3">
<h3 class="anchored" data-anchor-id="그릅의-지정-group_by">그릅의 지정: <code>group_by()</code></h3>
<ul>
<li><p>특정 열(또는 여러 열)을 기준으로 행들을 묶어 그룹한다.</p></li>
<li><p>그룹화 후에는 요약<code>summarize()</code>, 변환<code>mutate()</code>, 혹은 재구조화<code>reframe()</code> 등의 작업을 그룹 단위로 수행할 수 있다.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df_grouped <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(도시)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>df_grouped</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
# Groups:   도시 [3]
  이름   도시   나이  점수
  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 홍길동 서울     25    80
2 김영희 부산     30    90
3 박찬호 서울     35    75
4 이소라 인천     40    82
5 최민식 부산     28    95</code></pre>
</div>
</div>
<ul>
<li>결과물을 보면 눈에 보이는 데이터는 바뀌지 않지만, 내부적으로 도시를 기준으로 데이터가 ’그룹화’된 상태가 된다. 이후에 <code>summarize()</code>, <code>reframe()</code> 등을 하면 “도시별”로 계산한다.</li>
</ul>
</section>
<section id="자료의-요약-summarize-또는-summarise" class="level3">
<h3 class="anchored" data-anchor-id="자료의-요약-summarize-또는-summarise">자료의 요약: <code>summarize()</code> 또는 <code>summarise()</code></h3>
<ul>
<li><p>평균, 합계, 개수 등의 통계를 구할 때 자주 사용한다. 한 번에 여러 요약 통계를 낼 수도 있다.</p></li>
<li><p>도시별로 평균 나이와 평균 점수를 구해보자.</p>
<ul>
<li><code>mean(나이)</code>: 각 도시 그룹 내 <code>나이</code>의 평균</li>
<li><code>mean(점수)</code>: 각 도시 그룹 내 <code>점수</code>의 평균</li>
<li><code>n()</code>: 그룹 내 행(row)의 개수(인원수)를 세어줌</li>
</ul></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(도시) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">평균나이</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">나이</span><span class="st">`</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">평균점수</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">점수</span><span class="st">`</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">인원수</span><span class="st">`</span>   <span class="ot">=</span> <span class="fu">n</span>()</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  도시  평균나이 평균점수 인원수
  &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;  &lt;int&gt;
1 부산        29     92.5      2
2 서울        30     77.5      2
3 인천        40     82        1</code></pre>
</div>
</div>
</section>
<section id="제이터프레임의-컬럼명" class="level3 {callout-note}">
<h3 class="anchored" data-anchor-id="제이터프레임의-컬럼명">제이터프레임의 컬럼명</h3>
<p><code>dplyr</code>과 <code>tidyr</code> 제공되는 함수들은 간결한 연산(<a href="https://dplyr.tidyverse.org/articles/programming.html">tidy evaluation</a>)의 방식이 적용되어 데이터프레임의 컬럼 이름을 나타낼 때 영문과 한글 상관없이 따옴표를 붙이지 않고 없이 사용할 수 있다. 하지만 컬럼명을 한글로 사용하는 경우 간결한 연산이 적용되지 않는 다른 패키지의 함수와 같이 사용하는 경우 문제가 발생할 수 있다.</p>
<p>따라서 한글 컬럼 이름은 언제나 역따옴표 `` 로 묶어주는 것이 안전하다.</p>
</section>
<section id="컬럼의-위치-이동-relocate" class="level3">
<h3 class="anchored" data-anchor-id="컬럼의-위치-이동-relocate">컬럼의 위치 이동: <code>relocate()</code></h3>
<ul>
<li><p>열(column)의 순서를 재배치한다.</p>
<ul>
<li><code>.before</code>: 어떤 열의 앞에 지정한 열들을 옮길지 설정 (또는 <code>.after</code>도 있음)</li>
<li><code>.before = 이름</code>: 기존의 <code>이름</code> 열 앞에 <code>도시</code> 열을 위치시키라는 의미</li>
</ul></li>
<li><p>데이터를 보기 편하게 만들거나, 특정 열을 맨 앞으로 가져올 때 유용하다.</p></li>
<li><p>예제 자료에서 도시 열을 맨 앞으로 가져오기</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_relocated <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(도시, <span class="at">.before =</span> 이름)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>df_relocated</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  도시   이름 나이 점수
1 서울 홍길동   25   80
2 부산 김영희   30   90
3 서울 박찬호   35   75
4 인천 이소라   40   82
5 부산 최민식   28   95</code></pre>
</div>
</div>
</section>
<section id="컬럼의-선택-select" class="level3">
<h3 class="anchored" data-anchor-id="컬럼의-선택-select">컬럼의 선택: <code>select()</code></h3>
<ul>
<li>원하는 열만 선택하거나, 열의 순서를 지정하는 데 사용한다.</li>
<li>데이터에서 특정 열만 추출하거나, 불필요한 열을 제거하고 싶을 때 사용한다.</li>
<li>다음 예시는 이름과 점수 열만 선택</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_selected <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(이름, 점수)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>df_selected</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    이름 점수
1 홍길동   80
2 김영희   90
3 박찬호   75
4 이소라   82
5 최민식   95</code></pre>
</div>
</div>
</section>
<section id="재구조화-reframe" class="level3">
<h3 class="anchored" data-anchor-id="재구조화-reframe">재구조화: <code>reframe()</code></h3>
<ul>
<li><p><code>summarize()</code>와 비슷하게 그룹화된 데이터를 재구조화하되, 결과를 그룹별 여러 행으로 반환할 수도 있다.</p></li>
<li><p>dplyr 1.1.0부터 추가된 기능으로, 기존 <code>summarize()</code>가 그룹당 “요약된 한 행”을 반환했던 것과 달리, <code>reframe()</code>은 그룹별로 여러 행을 만들어낼 수 있다.</p></li>
<li><p>다음 예시는 도시별로 데이터를 모은 뒤, 그 안에서 ’이름’과 ’점수’만 추려서 재구조화</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df_reframed <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(도시) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    이름,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    점수,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    평균도시점수 <span class="ot">=</span> <span class="fu">mean</span>(점수)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>df_reframed</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
  도시  이름    점수 평균도시점수
  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;        &lt;dbl&gt;
1 부산  김영희    90         92.5
2 부산  최민식    95         92.5
3 서울  홍길동    80         77.5
4 서울  박찬호    75         77.5
5 인천  이소라    82         82  </code></pre>
</div>
</div>
<ul>
<li><p><code>도시</code>별로 그룹화한 뒤 각 그룹 내부에서 모든 이름과 점수를 그대로 나열하면서, 같은 그룹 내 평균 점수(<code>평균도시점수</code>)를 함께 표시한다.</p></li>
<li><p>결과는 그룹당 여러 행(그룹에 속한 사람 수만큼)이 나올 수 있으며, 요약 통계는 반복되어 표시한다.</p></li>
</ul>
</section>
<section id="컬럼명-변경-rename-또는-rename_with" class="level3">
<h3 class="anchored" data-anchor-id="컬럼명-변경-rename-또는-rename_with">컬럼명 변경 <code>rename()</code> 또는 <code>rename_with</code></h3>
<ul>
<li><p>특정 규칙에 따라 여러 열의 이름을 한꺼번에 변경할 때 사용한다.</p></li>
<li><p>예를 들어, 모든 열 이름에 접두사(prefix)를 붙이거나, 대소문자 변환 등을 할 수 있다.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df_renamed1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">city =</span> 도시, <span class="at">name =</span> 이름)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df_renamed1</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    name city 나이 점수
1 홍길동 서울   25   80
2 김영희 부산   30   90
3 박찬호 서울   35   75
4 이소라 인천   40   82
5 최민식 부산   28   95</code></pre>
</div>
</div>
<ul>
<li><p>다음 예시는 모든 열 이름에 “new_”라는 접두사를 붙인다.</p>
<ul>
<li><p><code>.fn</code>: 열 이름을 어떻게 변환할지 정의한 함수</p></li>
<li><p><code>.cols</code>: 변환할 열의 범위 지정(예: 특정 열, <code>everything()</code>)</p></li>
</ul></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_renamed2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="at">.fn =</span> <span class="sc">~</span> <span class="fu">paste0</span>(<span class="st">"new_"</span>, .), <span class="at">.cols =</span> <span class="fu">everything</span>())</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df_renamed2</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  new_이름 new_도시 new_나이 new_점수
1   홍길동     서울       25       80
2   김영희     부산       30       90
3   박찬호     서울       35       75
4   이소라     인천       40       82
5   최민식     부산       28       95</code></pre>
</div>
</div>
</section>
<section id="정열-arrange" class="level3">
<h3 class="anchored" data-anchor-id="정열-arrange">정열: <code>arrange()</code></h3>
<ul>
<li><p>원하는 열을 기준으로 행을 정렬한다. 오름차순/내림차순 모두 가능.</p></li>
<li><p>내림차순 정렬 시에는 <code>desc()</code>를 사용.</p></li>
<li><p>다음 예시는 점수 순서대로 오름차순 정렬</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df_arranged <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(점수)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>df_arranged</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    이름 도시 나이 점수
1 박찬호 서울   35   75
2 홍길동 서울   25   80
3 이소라 인천   40   82
4 김영희 부산   30   90
5 최민식 부산   28   95</code></pre>
</div>
</div>
<ul>
<li><p><code>arrange(점수)</code>: 점수가 낮은 순서에서 높은 순서로 정렬</p></li>
<li><p>만약 높은 순서부터 정렬을 원한다면 <code>arrange(desc(점수))</code></p></li>
</ul>
</section>
<section id="컬럼-묶기-across" class="level3">
<h3 class="anchored" data-anchor-id="컬럼-묶기-across">컬럼 묶기 <code>across()</code></h3>
<ul>
<li><p>여러 열에 대해 동일한 함수를 일괄 적용할 때 사용한다.</p></li>
<li><p><code>mutate()</code>, <code>summarize()</code> 등에서, 선택한 여러 열에 대해 한꺼번에 연산을 적용할 수 있다.</p></li>
<li><p>다음 예시는 나이와 점수를 각각 2배로 만들고, 새로운 열(나이2배, 점수2배)을 생성</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df_across <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">.cols =</span> <span class="fu">c</span>(나이, 점수),       <span class="co"># 어떤 열에 적용할지</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns  =</span> <span class="sc">~</span> . <span class="sc">*</span> <span class="dv">2</span>,            <span class="co"># 어떤 함수를 적용할지</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">"{.col}2배"</span>        <span class="co"># 새로운 열 이름 형식</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>df_across</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    이름 도시 나이 점수 나이2배 점수2배
1 홍길동 서울   25   80      50     160
2 김영희 부산   30   90      60     180
3 박찬호 서울   35   75      70     150
4 이소라 인천   40   82      80     164
5 최민식 부산   28   95      56     190</code></pre>
</div>
</div>
<ul>
<li><p><code>.cols</code>: 변환 적용 대상 열 지정</p></li>
<li><p><code>.fns</code>: 적용할 함수</p></li>
<li><p><code>.names</code>: 새 열 이름 패턴 정의 (<code>"{.col}"</code>, <code>"{.col}_새이름"</code> 등)</p></li>
</ul>
</section>
</section>
<section id="데이터의-변환" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="데이터의-변환"><span class="header-section-number">3.2</span> 데이터의 변환</h2>
<p>데이터프레임의 형태를 바꾸는 중요한 함수 2개를 소개한다.</p>
<section id="긴-형식-pivot_longer" class="level3">
<h3 class="anchored" data-anchor-id="긴-형식-pivot_longer">긴 형식: <code>pivot_longer()</code></h3>
<ul>
<li>가로 방향으로 나열된 데이터를 세로 방향(긴 형태, Long format)로 변환한다.</li>
</ul>
<dl>
<dt><img src="../images/longer.png" class="img-fluid" alt="긴 형식으로 변환"></dt>
<dd>
긴 형식으로 변환(그림출처: <code>tidyr</code> 홈페이지)
</dd>
</dl>
<ul>
<li><p>보통 측정 항목(예: 나이, 점수)이 열로 되어 있을 때, 이를 “변수 이름”과 “값”의 두 열로 합쳐서 “길게”(long) 만들 때 쓰인다.</p></li>
<li><p>다음 예시는 <code>나이</code>와 <code>점수</code> 열을 세로 방향으로 길게 변환</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols      =</span> <span class="fu">c</span>(나이, 점수),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to  =</span> <span class="st">"측정항목"</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"값"</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>df_long</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   이름   도시  측정항목    값
   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;
 1 홍길동 서울  나이        25
 2 홍길동 서울  점수        80
 3 김영희 부산  나이        30
 4 김영희 부산  점수        90
 5 박찬호 서울  나이        35
 6 박찬호 서울  점수        75
 7 이소라 인천  나이        40
 8 이소라 인천  점수        82
 9 최민식 부산  나이        28
10 최민식 부산  점수        95</code></pre>
</div>
</div>
<ul>
<li><p><code>cols</code>: 세로로 변환할(길게 만들) 대상 열을 지정</p></li>
<li><p><code>names_to</code>: 기존 열 이름이 어떤 새 열 이름으로 저장될지 지정</p></li>
<li><p><code>values_to</code>: 기존 열 값이 어떤 새 열 이름으로 저장될지 지정</p></li>
</ul>
</section>
<section id="넓은-형식-pivot_wider" class="level3">
<h3 class="anchored" data-anchor-id="넓은-형식-pivot_wider">넓은 형식: <code>pivot_wider()</code></h3>
<ul>
<li>세로 방향(긴 형태)로 나열된 데이터를 가로 방향(넓은 형태)으로 변환한다.</li>
</ul>
<dl>
<dt><img src="../images/wider.png" class="img-fluid" alt="넓은 형식으로 변환"></dt>
<dd>
넓은 형식으로 변환(그림출처: <code>tidyr</code> 홈페이지)
</dd>
</dl>
<ul>
<li><p>일반적으로 <code>pivot_longer()</code>로 만들었던 긴 데이터 프레임을 다시 열별로 펼칠 때 사용한다.</p></li>
<li><p>다음 예시는 <code>pivot_longer()</code> 결과물(df_long)을 다시 넓은 형식으로 변환</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df_wide <span class="ot">&lt;-</span> df_long <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from  =</span> <span class="st">"측정항목"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">"값"</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>df_wide</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
  이름   도시   나이  점수
  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 홍길동 서울     25    80
2 김영희 부산     30    90
3 박찬호 서울     35    75
4 이소라 인천     40    82
5 최민식 부산     28    95</code></pre>
</div>
</div>
<ul>
<li><p><code>names_from</code>: 어떤 열의 값을 “열 이름”으로 펼칠지 지정</p></li>
<li><p><code>values_from</code>: 어떤 열의 값을 “열 값”으로 사용할지 지정</p></li>
<li><p>다시 <code>이름</code>, <code>도시</code>를 그대로 두면서, <code>나이</code>와 <code>점수</code>가 각각 열로 복원된 형태가 된다.</p></li>
</ul>
</section>
</section>
<section id="실습-데이터요약표-만들기" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="실습-데이터요약표-만들기"><span class="header-section-number">3.3</span> 실습: 데이터요약표 만들기</h2>
<p>이제 실제 데이터를 이용하여 분할표와 요약통계표를 구해보자.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"physical100_data.RData"</span>))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "df"           "df_across"    "df_arranged"  "df_grouped"   "df_long"     
 [6] "df_reframed"  "df_relocated" "df_renamed1"  "df_renamed2"  "df_selected" 
[11] "df_wide"      "df1_youth"   </code></pre>
</div>
</div>
<section id="소개" class="level3">
<h3 class="anchored" data-anchor-id="소개">소개</h3>
<ul>
<li><p>2018-2023년 국민체력100사업에서 측정한 초등학교 체력측정 자료</p></li>
<li><p>실습을 위하여 1000명 임의로 추출한 자료</p></li>
<li><p>이 실습에서 통계표를 작성하는 원천 자료(raw data; source data)로 이용</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df1_youth, <span class="dv">10</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>       ID CENTER_NM TEST_AGE   TEST_YMD TEST_YEAR TEST_SEX ITEM_F001 ITEM_F002
    &lt;int&gt;    &lt;char&gt;    &lt;int&gt;     &lt;Date&gt;     &lt;int&gt;   &lt;char&gt;     &lt;num&gt;     &lt;num&gt;
 1:     1      삼척       13 2018-10-12      2018     남성     172.5      62.7
 2:     2      동작       18 2018-05-17      2018     남성     180.8      79.2
 3:     3      마포       16 2018-05-02      2018     남성     169.0      63.0
 4:     4      강릉       17 2019-04-01      2019     여성     151.9      52.5
 5:     5      남원       14 2020-09-22      2020     여성     150.1      61.2
 6:     6      안동       17 2018-10-22      2018     남성     173.6      53.5
 7:     7      원주       15 2023-05-08      2023     여성     163.8      66.2
 8:     8      태백       14 2022-05-17      2022     남성     162.9      53.4
 9:     9      성남       16 2018-09-19      2018     남성     163.1      63.9
10:    10      서초       13 2019-05-21      2019     남성     169.3      66.7
    ITEM_F009 ITEM_F012 ITEM_F018 ITEM_F020 ITEM_F022 ITEM_F028
        &lt;num&gt;     &lt;num&gt;     &lt;num&gt;     &lt;num&gt;     &lt;num&gt;     &lt;num&gt;
 1:        NA      -8.2      21.1        25        NA      42.2
 2:        NA       8.5      24.2        64       245      78.1
 3:        27      -7.0      22.1        36       165      52.5
 4:        NA      10.9      22.8        17        NA      36.7
 5:        NA      27.5      27.2        18       137      37.2
 6:        27       9.0      17.8        29       220      71.7
 7:        NA      25.2      24.7        15       133      45.2
 8:        NA       9.6      20.1        31       210      45.7
 9:        NA      17.6      24.0        50        NA      58.3
10:        NA       1.2      23.3        20       150      42.1</code></pre>
</div>
</div>
</section>
<section id="요약통계표" class="level3">
<h3 class="anchored" data-anchor-id="요약통계표">요약통계표</h3>
<ul>
<li><code>df1_youth</code>에서 성별과 각 년도별로 그룹화 해서 도수,평균 등을 계산.</li>
</ul>
<p>코드에 대해 설명하면,</p>
<ol type="1">
<li>원천자료 <code>df1_youth</code> 를 지정하고</li>
<li><code>TEST_SEX</code>, <code>TEST_YEAR</code>, <code>ITEM_F001</code> 컬럼을 선택하고</li>
<li><code>TEST_SEX</code>, <code>TEST_YEAR</code> 컬럼으로 그룹화한 후</li>
<li>신장(<code>ITEM_F001</code>) 에 대한 그룹별 돗수, 평균, 표준편차를 계산</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>basic_stat_table <span class="ot">&lt;-</span> df1_youth <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(TEST_SEX, TEST_YEAR, ITEM_F001) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TEST_SEX, TEST_YEAR) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">MEAN =</span><span class="fu">mean</span>(ITEM_F001, <span class="at">na.rm=</span> <span class="cn">TRUE</span> ),</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">SD =</span><span class="fu">sd</span>(ITEM_F001, <span class="at">na.rm=</span> <span class="cn">TRUE</span> ),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>  <span class="co"># 그룹을 모두 해제</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>basic_stat_table</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 5
   TEST_SEX TEST_YEAR     n  MEAN     SD
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 남성          2017    85  188. 173.  
 2 남성          2018   131  171.   6.38
 3 남성          2019   140  171.   7.49
 4 남성          2020    20  172.   5.26
 5 남성          2021    29  173.   6.61
 6 남성          2022    66  174.   6.28
 7 남성          2023    89  171.   7.79
 8 여성          2017    83  160.   6.27
 9 여성          2018    90  160.   5.38
10 여성          2019    96  160.   5.33
11 여성          2020    13  160.   4.28
12 여성          2021    22  159.   4.11
13 여성          2022    52  161.   5.59
14 여성          2023    84  161.   6.05</code></pre>
</div>
</div>
</section>
<section id="분할표" class="level3">
<h3 class="anchored" data-anchor-id="분할표">분할표</h3>
<p>남여별로 각 년도에 돗수를 분할표로 구해본다.</p>
<ol type="1">
<li>원천자료 <code>df1_youth</code> 를 지정하고</li>
<li><code>TEST_SEX</code>, <code>TEST_YEAR</code> 컬럼을 선택하고</li>
<li><code>TEST_SEX</code>, <code>TEST_YEAR</code> 컬럼으로 그룹화한 후</li>
<li>각 그룹의 조합의 돗수를 n 으로 계산한다.</li>
<li>측정연도 <code>TEST_YEAR</code> 의 숫자 앞에 <code>Y</code> 를 붙여서 새로운 열이름을 만들고, 성별과 연도에 해당하는 돗수로 교차표를 만든다.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>cross_stat_table <span class="ot">&lt;-</span> df1_youth <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(TEST_SEX, TEST_YEAR) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TEST_SEX, TEST_YEAR) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> TEST_YEAR,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> n, <span class="at">names_prefix =</span> <span class="st">"Y"</span> )</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'TEST_SEX'. You can override using the
`.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>cross_stat_table</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 8
# Groups:   TEST_SEX [2]
  TEST_SEX Y2017 Y2018 Y2019 Y2020 Y2021 Y2022 Y2023
  &lt;chr&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
1 남성        85   131   140    20    29    66    89
2 여성        83    90    96    13    22    52    84</code></pre>
</div>
</div>
</section>
<section id="통계표-만들기" class="level3">
<h3 class="anchored" data-anchor-id="통계표-만들기">통계표 만들기</h3>
<p>통계표를 만드는 방법을 여러가지 보일 것이다.</p>
<p>우선 통계량을 구하는 함수를 코드에 일일히 입력하기 번거로우니 여러 개의 지정된 함수와 이름을 <code>list</code>로 묶어서 <code>my_summ_func</code>에 저장하는 방법을 사용한다.</p>
<p>각 측정항목에 적용할 통계 함수와 출력값의 이름을 지정한다.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>my_summ_func <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  개수 <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(.x)),</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  결측개수 <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(<span class="fu">is.na</span>(.x)),</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  평균 <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  표준편차 <span class="ot">=</span> <span class="er">~</span><span class="fu">sd</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  최소값 <span class="ot">=</span> <span class="er">~</span><span class="fu">min</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  백분위25 <span class="ot">=</span> <span class="er">~</span><span class="fu">quantile</span>(.x, <span class="at">probs =</span> <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  중앙값 <span class="ot">=</span> <span class="er">~</span><span class="fu">median</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  백분위75 <span class="ot">=</span> <span class="er">~</span><span class="fu">quantile</span>(.x, <span class="at">probs =</span> <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  최대값 <span class="ot">=</span> <span class="er">~</span><span class="fu">max</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><p><code>~sum</code>,<code>~mean</code>, 등등: 함수를 쓸때 간단하게 작성하는 방법</p></li>
<li><p><code>.x</code>: 자리표시자로써 열 또는 원소를 지칭하는 의미</p></li>
<li><p><code>na.rm</code>: 결측치(NA)를 제거하고 계산할지 여부를 물어보는 것</p></li>
</ul>
<ol type="1">
<li>1단계 통계표</li>
</ol>
<p>간단한 통계표부터 보여본다.</p>
<ul>
<li>원천자료 <code>df1_youth</code>를 지정하고</li>
<li><code>TEST_SEX</code>, <code>TEST_YEAR</code> 컬럼을 선택하고</li>
<li><code>my_summ_func</code> 에서 정의한 함수를 열이름이 <code>ITEM</code>을 포함한 모든열에 적용한다.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>aa <span class="ot">&lt;-</span> df1_youth <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TEST_SEX, TEST_YEAR) <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">contains</span>(<span class="st">"ITEM"</span>), my_summ_func,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.names =</span> <span class="st">"{.col}-{.fn}"</span>))</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'TEST_SEX'. You can override using the
`.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>aa</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 74
# Groups:   TEST_SEX [2]
   TEST_SEX TEST_YEAR `ITEM_F001-개수` `ITEM_F001-결측개수` `ITEM_F001-평균`
   &lt;chr&gt;        &lt;int&gt;            &lt;int&gt;                &lt;int&gt;            &lt;dbl&gt;
 1 남성          2017               85                    0             188.
 2 남성          2018              131                    0             171.
 3 남성          2019              140                    0             171.
 4 남성          2020               20                    0             172.
 5 남성          2021               29                    0             173.
 6 남성          2022               66                    0             174.
 7 남성          2023               89                    0             171.
 8 여성          2017               83                    0             160.
 9 여성          2018               90                    0             160.
10 여성          2019               96                    0             160.
11 여성          2020               13                    0             160.
12 여성          2021               22                    0             159.
13 여성          2022               52                    0             161.
14 여성          2023               84                    0             161.
# ℹ 69 more variables: `ITEM_F001-표준편차` &lt;dbl&gt;, `ITEM_F001-최소값` &lt;dbl&gt;,
#   `ITEM_F001-백분위25` &lt;dbl&gt;, `ITEM_F001-중앙값` &lt;dbl&gt;,
#   `ITEM_F001-백분위75` &lt;dbl&gt;, `ITEM_F001-최대값` &lt;dbl&gt;,
#   `ITEM_F002-개수` &lt;int&gt;, `ITEM_F002-결측개수` &lt;int&gt;, `ITEM_F002-평균` &lt;dbl&gt;,
#   `ITEM_F002-표준편차` &lt;dbl&gt;, `ITEM_F002-최소값` &lt;dbl&gt;,
#   `ITEM_F002-백분위25` &lt;dbl&gt;, `ITEM_F002-중앙값` &lt;dbl&gt;,
#   `ITEM_F002-백분위75` &lt;dbl&gt;, `ITEM_F002-최대값` &lt;dbl&gt;, …</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>2단계 통계표</li>
</ol>
<p>1단계 통계표에서 <code>pivot_longer</code>을 사용해 추가적으로 진행을 해본다.</p>
<ul>
<li>항목이름과 통계이름으로 구성된 얿은 열을 가진 자료를 다시 긴 행을 가진 자료로 변환</li>
<li>변환시 열이름을 두 열로 나누어 저장(항목이름 <code>item</code>과 통계량 <code>stat</code>)</li>
<li>항목이름 <code>item</code>열을 앞으로 배치</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>bb <span class="ot">&lt;-</span> aa <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="sc">!</span><span class="fu">c</span>(TEST_SEX, TEST_YEAR), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"item"</span>, <span class="st">"stat"</span>), <span class="at">names_sep=</span><span class="st">"-"</span> , <span class="at">values_to =</span> <span class="st">"value"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>bb</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,008 × 5
# Groups:   TEST_SEX [2]
   TEST_SEX TEST_YEAR item      stat     value
   &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt;
 1 남성          2017 ITEM_F001 개수       85 
 2 남성          2017 ITEM_F001 결측개수    0 
 3 남성          2017 ITEM_F001 평균      188.
 4 남성          2017 ITEM_F001 표준편차  173.
 5 남성          2017 ITEM_F001 최소값    145.
 6 남성          2017 ITEM_F001 백분위25  165.
 7 남성          2017 ITEM_F001 중앙값    170 
 8 남성          2017 ITEM_F001 백분위75  175.
 9 남성          2017 ITEM_F001 최대값   1761 
10 남성          2017 ITEM_F002 개수       85 
# ℹ 998 more rows</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>3단계 통계표</li>
</ol>
<p>2단계 통계표에서 <code>pivot_wider</code>을 진행해 추가적으로 진행을 해본다.</p>
<ul>
<li>긴 행을 가진 자료를 측정 년도를 열로 바꾸어 긴 열을 가진 자료로 변환</li>
<li>항목이름과 성별순으로 자료를 정렬</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>cc <span class="ot">&lt;-</span> bb <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">relocate</span>(item) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> TEST_YEAR, <span class="at">values_from =</span> value)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>cc</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 144 × 10
# Groups:   TEST_SEX [2]
   item      TEST_SEX stat     `2017` `2018` `2019` `2020` `2021` `2022` `2023`
   &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 ITEM_F001 남성     개수        85  131    140     20     29     66     89   
 2 ITEM_F001 남성     결측개수     0    0      0      0      0      0      0   
 3 ITEM_F001 남성     평균       188. 171.   171.   172.   173.   174.   171.  
 4 ITEM_F001 남성     표준편차   173.   6.38   7.49   5.26   6.61   6.28   7.79
 5 ITEM_F001 남성     최소값     145. 146.   144.   161.   155    159    143.  
 6 ITEM_F001 남성     백분위25   165. 167.   166.   169.   170    171.   166.  
 7 ITEM_F001 남성     중앙값     170  172.   171.   173.   174.   174.   172.  
 8 ITEM_F001 남성     백분위75   175. 175.   176.   174.   177.   177.   176.  
 9 ITEM_F001 남성     최대값    1761  184.   189    183.   185.   189    187.  
10 ITEM_F002 남성     개수        85  131    140     20     29     66     89   
# ℹ 134 more rows</code></pre>
</div>
</div>
</section>
<section id="함수만들기" class="level3">
<h3 class="anchored" data-anchor-id="함수만들기">함수만들기</h3>
<p>실제로 통계표를 만들고 출력하는 데까지 한번에 하는 것이 아닌 여러번의 과정을 거쳐야 한다는 것을 알고 있다.</p>
<p>그렇기에 여러번 돌릴 때마다 코드를 수정하면서 돌리는 것은 비효율적이므로 함수를 만들어서 필요할 때 마다 간편하게 통계표를 만드는 과정을 보려고 한다.</p>
<p>우선, <code>summarise</code>에 쓰일 통계량이 많기에 리스트 형태로 미리 지정하는 것이 편하다.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>my_summ_func <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">개수</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(.x)),</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">결측개수</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sum</span>(<span class="fu">is.na</span>(.x)),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">평균</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">표준편차</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sd</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">최소값</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">min</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">백분위25</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">quantile</span>(.x, <span class="at">probs =</span> <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">중앙값</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">median</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">백분위75</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">quantile</span>(.x, <span class="at">probs =</span> <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">최대값</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">max</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>my_summ_func_2 <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">개수</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">n</span>(),</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">평균</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">표준편차</span><span class="st">`</span> <span class="ot">=</span> <span class="er">~</span><span class="fu">sd</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>이제 직접 함수를 만들고 이해해보자.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>summ_function_general <span class="ot">&lt;-</span> <span class="cf">function</span>(df, cols_to_row, cols_to_col, cols_to_summ, stat_fun, <span class="at">stat_to_column =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  col1 <span class="ot">&lt;-</span> <span class="fu">syms</span>(cols_to_row)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  col2 <span class="ot">&lt;-</span> <span class="fu">syms</span>(cols_to_col)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  col3 <span class="ot">&lt;-</span> <span class="fu">syms</span>(cols_to_summ)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  tab1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span>     </span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="sc">!!!</span>col1, <span class="sc">!!!</span>col2) <span class="sc">%&gt;%</span>  </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(cols_to_summ), stat_fun, </span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">.names =</span> <span class="st">"{.col}-{.fn}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="sc">!!!</span>col1, <span class="sc">!!!</span>col2), </span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"ITEM"</span>, <span class="st">"STAT"</span>),  </span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">names_sep=</span><span class="st">"-"</span> , <span class="at">values_to =</span> <span class="st">"value"</span>)  <span class="sc">%&gt;%</span>   </span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(ITEM) <span class="sc">%&gt;%</span> </span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(ITEM) <span class="sc">%&gt;%</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() </span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (stat_to_column) { </span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    tab1 <span class="ot">&lt;-</span> tab1  <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">all_of</span>(<span class="fu">c</span>(cols_to_col,<span class="st">"STAT"</span>)), <span class="at">values_from =</span> value)  </span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> {</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>    tab1 <span class="ot">&lt;-</span> tab1 <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">all_of</span>(cols_to_col), <span class="at">values_from =</span> value)  </span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>   <span class="fu">return</span>(tab1)</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>}  </span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>우선, 입력할 인자들이 무엇인지 확인하자.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(df, <span class="co">#  데이터프레임 입력</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>         cols_to_row,  <span class="co"># "행 그룹”으로 사용할 열 이름(들).</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>         cols_to_col,  <span class="co"># “열 그룹”으로 사용할 열 이름(들).</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>         cols_to_summ, <span class="co"># 요약 함수(stat_fun)를 적용할 대상 열 이름(들).</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>         stat_fun,     <span class="co"># 요약에 사용할 함수(예: mean, sum, sd 등).</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">stat_to_column =</span> <span class="cn">FALSE</span> <span class="co"># 결과를 펼칠 때(pivot_wider) 통계값(STAT)을 열 이름으로 포함할지 여부</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol type="1">
<li><code>syms</code></li>
</ol>
<ul>
<li><p>문자열 벡터를 symbol 리스트로 바꿔준다.</p></li>
<li><p>예를 들어 <code>cols_to_row = c("SEX","YEAR")</code>라면 <code>col1</code>은 <code>list(quote(SEX), quote(YEAR))</code>가 된다.</p></li>
<li><p>이후 <code>!!!</code>(splicing operator)와 함께 <code>group_by()</code> 등에 활용하기 위함이다.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>  col1 <span class="ot">&lt;-</span> <span class="fu">syms</span>(cols_to_row)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  col2 <span class="ot">&lt;-</span> <span class="fu">syms</span>(cols_to_col)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  col3 <span class="ot">&lt;-</span> <span class="fu">syms</span>(cols_to_summ)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="2" type="1">
<li><code>!!!</code></li>
</ol>
<ul>
<li><p><code>!!!</code> 연산자를 쓰는 이유는, 직접함수를 만들 때 필요한 것으로 입력한 인자를 잘 인식시키기 위한 과정이라 생각하면 된다.</p></li>
<li><p><code>syms()</code>로 만들어진 다수의 symbol 리스트를 <code>group_by()</code>나 <code>pivot_longer()</code> 등의 인자에 ’개별 인자’처럼 인식해준다.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="sc">!!!</span>col1, <span class="sc">!!!</span>col2)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>즉, <code>!!!col1</code> 은 “col1이 가진 모든 symbol을 풀어서 인자로 넣어달라”라는 뜻이다.</p>
<p>예를 들어 <code>col1</code>이 <code>list(quote(SEX)</code>, <code>quote(YEAR))</code>라면, <code>group_by(!!!col1)</code>는 <code>group_by(SEX, YEAR)</code>로 동작하게 된다.</p>
<ol start="3" type="1">
<li><code>summarise(across...</code></li>
</ol>
<ul>
<li><p>각 그룹별로 <code>cols_to_summ</code>에 지정된 열에 대해, <code>stat_fun</code>을 적용해 요약한다.</p></li>
<li><p>결과 열 이름은 <code>"{.col}-{.fn}"</code> 형태로 설정된다.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(cols_to_summ), stat_fun, <span class="at">.names =</span> <span class="st">"{.col}-{.fn}"</span>))</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="4" type="1">
<li><code>pivot_longer(cols = ...</code></li>
</ol>
<ul>
<li><p>요약 후 만들어진 여러 통계량 열(<code>ITEM_F001-mean</code>, <code>ITEM_F001-sd</code> 등)을 세로 형태(long format)로 펼친다.</p></li>
<li><p><code>names_sep = "-"</code>를 기준으로 ITEM과 STAT 두 부분으로 분리.</p></li>
<li><p>예: <code>ITEM_F001-mean</code> → ITEM = <code>ITEM_F001</code>, STAT = <code>mean</code>.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="sc">!!!</span>col1, <span class="sc">!!!</span>col2), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"ITEM"</span>, <span class="st">"STAT"</span>), <span class="at">names_sep =</span> <span class="st">"-"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>cols = -c(!!!col1, !!!col2)</code>는 그룹 열을 제외한 모든 열을 <code>pivot_longer</code> 대상으로 삼는 것.</p>
<ol start="5" type="1">
<li><code>dplyr::arrange(ITEM)</code></li>
</ol>
<p><code>dplyr</code>패키지 안에 <code>arrange</code>함수를 쓴다는 의미이다.</p>
<ul>
<li><code>ITEM</code>열 기준으로 정렬(오름차순)한다.</li>
</ul>
<ol start="6" type="1">
<li><code>dplyr::ungroup()</code></li>
</ol>
<ul>
<li>그룹화를 해제한다(추가 연산에서 혼동을 막기 위해).</li>
</ul>
<ol start="7" type="1">
<li><code>if (stat_to_column) { ... } else { ... }</code></li>
</ol>
<ul>
<li><p><code>stat_to_column</code>이 <code>TRUE</code>라면, <code>cols_to_col</code>과 <code>STAT</code> 모두를 열 이름으로 펼친다.</p></li>
<li><p>예: <code>[ SEX, YEAR, STAT ]</code> 조합이 열이 됨.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (stat_to_column) { tab1 <span class="ot">&lt;-</span> tab1 <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">all_of</span>(<span class="fu">c</span>(cols_to_col, <span class="st">"STAT"</span>)), <span class="at">values_from =</span> value) }</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li><p><code>stat_to_column = FALSE</code>이면, <code>cols_to_col</code>만 열 이름으로 사용해서 펼친다.</p></li>
<li><p>결과적으로 STAT은 데이터 행으로 남는다.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> { tab1 <span class="ot">&lt;-</span> tab1 <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">all_of</span>(cols_to_col), <span class="at">values_from =</span> value) }</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>설명만 보았을 때는 어려우니 뒤에 결과물을 보고 이해해보자.</p>
</section>
<section id="직접만든-함수-적용" class="level3">
<h3 class="anchored" data-anchor-id="직접만든-함수-적용">직접만든 함수 적용</h3>
<p>첫번 째 통계표의 경우는</p>
<ul>
<li><p>행( row ) 그룹핑 기준: <code>TEST_SEX(성별)</code>, <code>TEST_AGE(나이)</code></p></li>
<li><p>열( column ) 그룹핑 기준: <code>TEST_YEAR(검사연도)</code></p></li>
<li><p>통계 함수를 적용할 열들: <code>ITEM_F001</code>, <code>ITEM_F002</code></p></li>
<li><p>계산할 함수: <code>my_summ_func_2</code></p></li>
</ul>
<p>로 표를 만들어준다.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">summ_function_general</span>(df1_youth,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"TEST_SEX"</span>, <span class="st">"TEST_AGE"</span>),</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"TEST_YEAR"</span>),</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"ITEM_F001"</span>, <span class="st">"ITEM_F002"</span>),</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">stat_fun =</span> my_summ_func_2)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'TEST_SEX', 'TEST_AGE'. You can override
using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tab1,<span class="dv">20</span>) <span class="sc">%&gt;%</span> <span class="fu">kbl</span>() <span class="sc">%&gt;%</span><span class="fu">kable_styling</span>()</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">ITEM</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">TEST_SEX</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TEST_AGE</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">STAT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2018</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2022</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2023</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">20.000000</td>
<td style="text-align: right;">26.000000</td>
<td style="text-align: right;">1.000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">3.000000</td>
<td style="text-align: right;">11.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">162.350000</td>
<td style="text-align: right;">164.715000</td>
<td style="text-align: right;">164.892308</td>
<td style="text-align: right;">182.800000</td>
<td style="text-align: right;">159.400000</td>
<td style="text-align: right;">165.266667</td>
<td style="text-align: right;">165.609091</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">7.448937</td>
<td style="text-align: right;">6.895328</td>
<td style="text-align: right;">8.639024</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">6.222540</td>
<td style="text-align: right;">2.663331</td>
<td style="text-align: right;">9.177304</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">32.000000</td>
<td style="text-align: right;">3.000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">7.000000</td>
<td style="text-align: right;">18.000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">165.456250</td>
<td style="text-align: right;">168.505882</td>
<td style="text-align: right;">167.603125</td>
<td style="text-align: right;">169.433333</td>
<td style="text-align: right;">170.600000</td>
<td style="text-align: right;">171.714286</td>
<td style="text-align: right;">168.388889</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">5.399873</td>
<td style="text-align: right;">5.318067</td>
<td style="text-align: right;">6.567539</td>
<td style="text-align: right;">4.309679</td>
<td style="text-align: right;">11.455130</td>
<td style="text-align: right;">11.317159</td>
<td style="text-align: right;">7.085602</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">22.000000</td>
<td style="text-align: right;">24.000000</td>
<td style="text-align: right;">3.000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">15.000000</td>
<td style="text-align: right;">17.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">269.781250</td>
<td style="text-align: right;">170.977273</td>
<td style="text-align: right;">173.600000</td>
<td style="text-align: right;">170.900000</td>
<td style="text-align: right;">169.700000</td>
<td style="text-align: right;">173.380000</td>
<td style="text-align: right;">174.188235</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">397.692213</td>
<td style="text-align: right;">6.552058</td>
<td style="text-align: right;">5.362592</td>
<td style="text-align: right;">4.622770</td>
<td style="text-align: right;">6.646804</td>
<td style="text-align: right;">4.947900</td>
<td style="text-align: right;">7.105005</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">15.000000</td>
<td style="text-align: right;">32.000000</td>
<td style="text-align: right;">23.000000</td>
<td style="text-align: right;">4.000000</td>
<td style="text-align: right;">7.000000</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">11.000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">173.200000</td>
<td style="text-align: right;">173.031250</td>
<td style="text-align: right;">173.539130</td>
<td style="text-align: right;">170.825000</td>
<td style="text-align: right;">175.342857</td>
<td style="text-align: right;">174.031250</td>
<td style="text-align: right;">171.581818</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">7.156915</td>
<td style="text-align: right;">4.476421</td>
<td style="text-align: right;">6.486751</td>
<td style="text-align: right;">6.439138</td>
<td style="text-align: right;">2.869296</td>
<td style="text-align: right;">5.888488</td>
<td style="text-align: right;">5.568989</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">26.000000</td>
<td style="text-align: right;">30.000000</td>
<td style="text-align: right;">5.000000</td>
<td style="text-align: right;">10.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">17.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">175.000000</td>
<td style="text-align: right;">173.450000</td>
<td style="text-align: right;">173.573333</td>
<td style="text-align: right;">174.260000</td>
<td style="text-align: right;">173.140000</td>
<td style="text-align: right;">174.981818</td>
<td style="text-align: right;">174.352941</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">4.850979</td>
<td style="text-align: right;">4.888374</td>
<td style="text-align: right;">6.267262</td>
<td style="text-align: right;">4.496443</td>
<td style="text-align: right;">6.764154</td>
<td style="text-align: right;">3.136820</td>
<td style="text-align: right;">8.408412</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">14.000000</td>
<td style="text-align: right;">5.000000</td>
<td style="text-align: right;">4.000000</td>
<td style="text-align: right;">6.000000</td>
<td style="text-align: right;">14.000000</td>
<td style="text-align: right;">15.000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">174.527273</td>
<td style="text-align: right;">174.628571</td>
<td style="text-align: right;">171.580000</td>
<td style="text-align: right;">169.325000</td>
<td style="text-align: right;">176.533333</td>
<td style="text-align: right;">176.557143</td>
<td style="text-align: right;">171.246667</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">5.833196</td>
<td style="text-align: right;">5.844054</td>
<td style="text-align: right;">3.834319</td>
<td style="text-align: right;">3.718759</td>
<td style="text-align: right;">2.445949</td>
<td style="text-align: right;">5.852772</td>
<td style="text-align: right;">6.460857</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">5.000000</td>
<td style="text-align: right;">10.000000</td>
<td style="text-align: right;">13.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">157.288235</td>
<td style="text-align: right;">156.290909</td>
<td style="text-align: right;">156.493750</td>
<td style="text-align: right;">158.900000</td>
<td style="text-align: right;">157.360000</td>
<td style="text-align: right;">160.370000</td>
<td style="text-align: right;">159.553846</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>이후 <code>tab2</code>,<code>tab3</code>도 동일하게 알부분만 변경해서 통계표를 만든 결과이다.</p>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">summ_function_general</span>(df1_youth,</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"TEST_AGE"</span>), </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"TEST_YEAR"</span>, <span class="st">"TEST_SEX"</span>),</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"ITEM_F001"</span>, <span class="st">"ITEM_F002"</span>),</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">stat_fun =</span> my_summ_func_2)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'TEST_AGE', 'TEST_YEAR'. You can override
using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tab2,<span class="dv">20</span>) <span class="sc">%&gt;%</span> <span class="fu">kbl</span>() <span class="sc">%&gt;%</span><span class="fu">kable_styling</span>()</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">ITEM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TEST_AGE</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">STAT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017_남성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017_여성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2018_남성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2018_여성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019_남성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019_여성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020_남성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020_여성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021_남성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021_여성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2022_남성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2022_여성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2023_남성</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2023_여성</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">20.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">26.000000</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">1.000000</td>
<td style="text-align: right;">2.0000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">5.0000000</td>
<td style="text-align: right;">3.000000</td>
<td style="text-align: right;">10.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">13.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">162.350000</td>
<td style="text-align: right;">157.288235</td>
<td style="text-align: right;">164.715000</td>
<td style="text-align: right;">156.290909</td>
<td style="text-align: right;">164.892308</td>
<td style="text-align: right;">156.493750</td>
<td style="text-align: right;">182.800000</td>
<td style="text-align: right;">158.9000000</td>
<td style="text-align: right;">159.400000</td>
<td style="text-align: right;">157.3600000</td>
<td style="text-align: right;">165.266667</td>
<td style="text-align: right;">160.370000</td>
<td style="text-align: right;">165.609091</td>
<td style="text-align: right;">159.553846</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">7.448937</td>
<td style="text-align: right;">7.663214</td>
<td style="text-align: right;">6.895328</td>
<td style="text-align: right;">5.826054</td>
<td style="text-align: right;">8.639024</td>
<td style="text-align: right;">3.423150</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">4.9497475</td>
<td style="text-align: right;">6.222540</td>
<td style="text-align: right;">1.9060430</td>
<td style="text-align: right;">2.663331</td>
<td style="text-align: right;">4.903298</td>
<td style="text-align: right;">9.177304</td>
<td style="text-align: right;">8.704751</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">13.000000</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">32.000000</td>
<td style="text-align: right;">15.000000</td>
<td style="text-align: right;">3.000000</td>
<td style="text-align: right;">2.0000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">4.0000000</td>
<td style="text-align: right;">7.000000</td>
<td style="text-align: right;">8.000000</td>
<td style="text-align: right;">18.000000</td>
<td style="text-align: right;">8.000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">165.456250</td>
<td style="text-align: right;">159.900000</td>
<td style="text-align: right;">168.505882</td>
<td style="text-align: right;">159.350000</td>
<td style="text-align: right;">167.603125</td>
<td style="text-align: right;">161.040000</td>
<td style="text-align: right;">169.433333</td>
<td style="text-align: right;">155.6000000</td>
<td style="text-align: right;">170.600000</td>
<td style="text-align: right;">158.3250000</td>
<td style="text-align: right;">171.714286</td>
<td style="text-align: right;">161.875000</td>
<td style="text-align: right;">168.388889</td>
<td style="text-align: right;">158.962500</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">5.399873</td>
<td style="text-align: right;">7.355723</td>
<td style="text-align: right;">5.318067</td>
<td style="text-align: right;">4.665047</td>
<td style="text-align: right;">6.567539</td>
<td style="text-align: right;">4.529869</td>
<td style="text-align: right;">4.309679</td>
<td style="text-align: right;">7.7781746</td>
<td style="text-align: right;">11.455130</td>
<td style="text-align: right;">5.3080913</td>
<td style="text-align: right;">11.317159</td>
<td style="text-align: right;">4.987341</td>
<td style="text-align: right;">7.085602</td>
<td style="text-align: right;">6.857100</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">18.000000</td>
<td style="text-align: right;">22.000000</td>
<td style="text-align: right;">13.000000</td>
<td style="text-align: right;">24.000000</td>
<td style="text-align: right;">22.000000</td>
<td style="text-align: right;">3.000000</td>
<td style="text-align: right;">2.0000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">15.000000</td>
<td style="text-align: right;">8.000000</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">18.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">269.781250</td>
<td style="text-align: right;">162.316667</td>
<td style="text-align: right;">170.977273</td>
<td style="text-align: right;">162.400000</td>
<td style="text-align: right;">173.600000</td>
<td style="text-align: right;">160.622727</td>
<td style="text-align: right;">170.900000</td>
<td style="text-align: right;">159.9500000</td>
<td style="text-align: right;">169.700000</td>
<td style="text-align: right;">162.0000000</td>
<td style="text-align: right;">173.380000</td>
<td style="text-align: right;">160.700000</td>
<td style="text-align: right;">174.188235</td>
<td style="text-align: right;">160.383333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">397.692213</td>
<td style="text-align: right;">5.818353</td>
<td style="text-align: right;">6.552058</td>
<td style="text-align: right;">6.858450</td>
<td style="text-align: right;">5.362592</td>
<td style="text-align: right;">5.114678</td>
<td style="text-align: right;">4.622770</td>
<td style="text-align: right;">3.1819805</td>
<td style="text-align: right;">6.646804</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">4.947900</td>
<td style="text-align: right;">3.706751</td>
<td style="text-align: right;">7.105005</td>
<td style="text-align: right;">3.873021</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">15.000000</td>
<td style="text-align: right;">14.000000</td>
<td style="text-align: right;">32.000000</td>
<td style="text-align: right;">24.000000</td>
<td style="text-align: right;">23.000000</td>
<td style="text-align: right;">21.000000</td>
<td style="text-align: right;">4.000000</td>
<td style="text-align: right;">2.0000000</td>
<td style="text-align: right;">7.000000</td>
<td style="text-align: right;">3.0000000</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">7.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">19.000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">173.200000</td>
<td style="text-align: right;">159.314286</td>
<td style="text-align: right;">173.031250</td>
<td style="text-align: right;">160.920833</td>
<td style="text-align: right;">173.539130</td>
<td style="text-align: right;">159.680952</td>
<td style="text-align: right;">170.825000</td>
<td style="text-align: right;">158.6500000</td>
<td style="text-align: right;">175.342857</td>
<td style="text-align: right;">165.0666667</td>
<td style="text-align: right;">174.031250</td>
<td style="text-align: right;">159.142857</td>
<td style="text-align: right;">171.581818</td>
<td style="text-align: right;">161.436842</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">7.156915</td>
<td style="text-align: right;">5.439154</td>
<td style="text-align: right;">4.476421</td>
<td style="text-align: right;">5.050095</td>
<td style="text-align: right;">6.486751</td>
<td style="text-align: right;">5.956309</td>
<td style="text-align: right;">6.439138</td>
<td style="text-align: right;">0.4949747</td>
<td style="text-align: right;">2.869296</td>
<td style="text-align: right;">0.8504901</td>
<td style="text-align: right;">5.888488</td>
<td style="text-align: right;">7.628424</td>
<td style="text-align: right;">5.568989</td>
<td style="text-align: right;">4.344883</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">15.000000</td>
<td style="text-align: right;">26.000000</td>
<td style="text-align: right;">19.000000</td>
<td style="text-align: right;">30.000000</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">5.000000</td>
<td style="text-align: right;">3.0000000</td>
<td style="text-align: right;">10.000000</td>
<td style="text-align: right;">6.0000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">8.000000</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">14.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">175.000000</td>
<td style="text-align: right;">160.960000</td>
<td style="text-align: right;">173.450000</td>
<td style="text-align: right;">161.984210</td>
<td style="text-align: right;">173.573333</td>
<td style="text-align: right;">159.347059</td>
<td style="text-align: right;">174.260000</td>
<td style="text-align: right;">161.0000000</td>
<td style="text-align: right;">173.140000</td>
<td style="text-align: right;">158.7333333</td>
<td style="text-align: right;">174.981818</td>
<td style="text-align: right;">162.437500</td>
<td style="text-align: right;">174.352941</td>
<td style="text-align: right;">162.385714</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">4.850979</td>
<td style="text-align: right;">4.036760</td>
<td style="text-align: right;">4.888374</td>
<td style="text-align: right;">3.481102</td>
<td style="text-align: right;">6.267262</td>
<td style="text-align: right;">6.197491</td>
<td style="text-align: right;">4.496443</td>
<td style="text-align: right;">1.5620499</td>
<td style="text-align: right;">6.764154</td>
<td style="text-align: right;">3.7494889</td>
<td style="text-align: right;">3.136820</td>
<td style="text-align: right;">4.955210</td>
<td style="text-align: right;">8.408412</td>
<td style="text-align: right;">5.063574</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">6.000000</td>
<td style="text-align: right;">14.000000</td>
<td style="text-align: right;">7.000000</td>
<td style="text-align: right;">5.000000</td>
<td style="text-align: right;">5.000000</td>
<td style="text-align: right;">4.000000</td>
<td style="text-align: right;">2.0000000</td>
<td style="text-align: right;">6.000000</td>
<td style="text-align: right;">3.0000000</td>
<td style="text-align: right;">14.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">15.000000</td>
<td style="text-align: right;">12.000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">174.527273</td>
<td style="text-align: right;">161.150000</td>
<td style="text-align: right;">174.628571</td>
<td style="text-align: right;">160.471429</td>
<td style="text-align: right;">171.580000</td>
<td style="text-align: right;">163.080000</td>
<td style="text-align: right;">169.325000</td>
<td style="text-align: right;">164.5000000</td>
<td style="text-align: right;">176.533333</td>
<td style="text-align: right;">156.2000000</td>
<td style="text-align: right;">176.557143</td>
<td style="text-align: right;">162.872727</td>
<td style="text-align: right;">171.246667</td>
<td style="text-align: right;">160.391667</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">표준편차</td>
<td style="text-align: right;">5.833196</td>
<td style="text-align: right;">6.338060</td>
<td style="text-align: right;">5.844054</td>
<td style="text-align: right;">6.273945</td>
<td style="text-align: right;">3.834319</td>
<td style="text-align: right;">4.930213</td>
<td style="text-align: right;">3.718759</td>
<td style="text-align: right;">5.6568542</td>
<td style="text-align: right;">2.445949</td>
<td style="text-align: right;">3.5930488</td>
<td style="text-align: right;">5.852772</td>
<td style="text-align: right;">7.072777</td>
<td style="text-align: right;">6.460857</td>
<td style="text-align: right;">8.397668</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">개수</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">17.000000</td>
<td style="text-align: right;">20.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">26.000000</td>
<td style="text-align: right;">16.000000</td>
<td style="text-align: right;">1.000000</td>
<td style="text-align: right;">2.0000000</td>
<td style="text-align: right;">2.000000</td>
<td style="text-align: right;">5.0000000</td>
<td style="text-align: right;">3.000000</td>
<td style="text-align: right;">10.000000</td>
<td style="text-align: right;">11.000000</td>
<td style="text-align: right;">13.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">평균</td>
<td style="text-align: right;">56.943750</td>
<td style="text-align: right;">52.735294</td>
<td style="text-align: right;">64.265000</td>
<td style="text-align: right;">51.027273</td>
<td style="text-align: right;">63.730769</td>
<td style="text-align: right;">49.350000</td>
<td style="text-align: right;">97.500000</td>
<td style="text-align: right;">53.0000000</td>
<td style="text-align: right;">72.850000</td>
<td style="text-align: right;">50.3800000</td>
<td style="text-align: right;">60.933333</td>
<td style="text-align: right;">59.630000</td>
<td style="text-align: right;">64.418182</td>
<td style="text-align: right;">55.638461</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>tab3 <span class="ot">&lt;-</span> <span class="fu">summ_function_general</span>(df1_youth,</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"TEST_SEX"</span>, <span class="st">"TEST_AGE"</span>),</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"TEST_YEAR"</span>),</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="st">"ITEM_F001"</span>, <span class="st">"ITEM_F002"</span>),</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">stat_fun =</span> my_summ_func_2,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>                              <span class="at">stat_to_column =</span> <span class="cn">TRUE</span>)</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'TEST_SEX', 'TEST_AGE'. You can override
using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tab3,<span class="dv">20</span>) <span class="sc">%&gt;%</span> <span class="fu">kbl</span>() <span class="sc">%&gt;%</span><span class="fu">kable_styling</span>()</span></code><button title="클립보드 복사" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">ITEM</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">TEST_SEX</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TEST_AGE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017_개수</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017_평균</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017_표준편차</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2018_개수</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2018_평균</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2018_표준편차</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019_개수</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019_평균</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019_표준편차</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020_개수</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020_평균</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020_표준편차</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021_개수</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021_평균</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021_표준편차</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2022_개수</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2022_평균</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2022_표준편차</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2023_개수</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2023_평균</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2023_표준편차</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">162.35000</td>
<td style="text-align: right;">7.448937</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">164.71500</td>
<td style="text-align: right;">6.895328</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">164.89231</td>
<td style="text-align: right;">8.639024</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">182.80000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">159.40000</td>
<td style="text-align: right;">6.2225397</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">165.26667</td>
<td style="text-align: right;">2.663331</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">165.60909</td>
<td style="text-align: right;">9.177304</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">165.45625</td>
<td style="text-align: right;">5.399873</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">168.50588</td>
<td style="text-align: right;">5.318067</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">167.60313</td>
<td style="text-align: right;">6.567539</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">169.43333</td>
<td style="text-align: right;">4.3096790</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">170.60000</td>
<td style="text-align: right;">11.4551299</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">171.71429</td>
<td style="text-align: right;">11.317159</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">168.38889</td>
<td style="text-align: right;">7.085602</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">269.78125</td>
<td style="text-align: right;">397.692213</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">170.97727</td>
<td style="text-align: right;">6.552058</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">173.60000</td>
<td style="text-align: right;">5.362592</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">170.90000</td>
<td style="text-align: right;">4.6227697</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">169.70000</td>
<td style="text-align: right;">6.6468037</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">173.38000</td>
<td style="text-align: right;">4.947900</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">174.18824</td>
<td style="text-align: right;">7.105005</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">173.20000</td>
<td style="text-align: right;">7.156915</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">173.03125</td>
<td style="text-align: right;">4.476421</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">173.53913</td>
<td style="text-align: right;">6.486751</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">170.82500</td>
<td style="text-align: right;">6.4391381</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">175.34286</td>
<td style="text-align: right;">2.8692956</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">174.03125</td>
<td style="text-align: right;">5.888488</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">171.58182</td>
<td style="text-align: right;">5.568989</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">175.00000</td>
<td style="text-align: right;">4.850979</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">173.45000</td>
<td style="text-align: right;">4.888374</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">173.57333</td>
<td style="text-align: right;">6.267262</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">174.26000</td>
<td style="text-align: right;">4.4964430</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">173.14000</td>
<td style="text-align: right;">6.7641539</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">174.98182</td>
<td style="text-align: right;">3.136820</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">174.35294</td>
<td style="text-align: right;">8.408412</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">174.52727</td>
<td style="text-align: right;">5.833196</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">174.62857</td>
<td style="text-align: right;">5.844054</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">171.58000</td>
<td style="text-align: right;">3.834319</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">169.32500</td>
<td style="text-align: right;">3.7187588</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">176.53333</td>
<td style="text-align: right;">2.4459490</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">176.55714</td>
<td style="text-align: right;">5.852772</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">171.24667</td>
<td style="text-align: right;">6.460857</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">157.28824</td>
<td style="text-align: right;">7.663214</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">156.29091</td>
<td style="text-align: right;">5.826054</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">156.49375</td>
<td style="text-align: right;">3.423150</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">158.90000</td>
<td style="text-align: right;">4.9497475</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">157.36000</td>
<td style="text-align: right;">1.9060430</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">160.37000</td>
<td style="text-align: right;">4.903298</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">159.55385</td>
<td style="text-align: right;">8.704751</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">159.90000</td>
<td style="text-align: right;">7.355723</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">159.35000</td>
<td style="text-align: right;">4.665047</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">161.04000</td>
<td style="text-align: right;">4.529869</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">155.60000</td>
<td style="text-align: right;">7.7781746</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">158.32500</td>
<td style="text-align: right;">5.3080913</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">161.87500</td>
<td style="text-align: right;">4.987341</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">158.96250</td>
<td style="text-align: right;">6.857100</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">162.31667</td>
<td style="text-align: right;">5.818353</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">162.40000</td>
<td style="text-align: right;">6.858450</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">160.62273</td>
<td style="text-align: right;">5.114678</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">159.95000</td>
<td style="text-align: right;">3.1819805</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">162.00000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">160.70000</td>
<td style="text-align: right;">3.706751</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">160.38333</td>
<td style="text-align: right;">3.873021</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">159.31429</td>
<td style="text-align: right;">5.439154</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">160.92083</td>
<td style="text-align: right;">5.050095</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">159.68095</td>
<td style="text-align: right;">5.956309</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">158.65000</td>
<td style="text-align: right;">0.4949747</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">165.06667</td>
<td style="text-align: right;">0.8504901</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">159.14286</td>
<td style="text-align: right;">7.628424</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">161.43684</td>
<td style="text-align: right;">4.344883</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">160.96000</td>
<td style="text-align: right;">4.036760</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">161.98421</td>
<td style="text-align: right;">3.481102</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">159.34706</td>
<td style="text-align: right;">6.197491</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">161.00000</td>
<td style="text-align: right;">1.5620499</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">158.73333</td>
<td style="text-align: right;">3.7494889</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">162.43750</td>
<td style="text-align: right;">4.955210</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">162.38571</td>
<td style="text-align: right;">5.063574</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F001</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">161.15000</td>
<td style="text-align: right;">6.338060</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">160.47143</td>
<td style="text-align: right;">6.273945</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">163.08000</td>
<td style="text-align: right;">4.930213</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">164.50000</td>
<td style="text-align: right;">5.6568542</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">156.20000</td>
<td style="text-align: right;">3.5930488</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">162.87273</td>
<td style="text-align: right;">7.072777</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">160.39167</td>
<td style="text-align: right;">8.397668</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">56.94375</td>
<td style="text-align: right;">15.884289</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">64.26500</td>
<td style="text-align: right;">15.545562</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">63.73077</td>
<td style="text-align: right;">16.570716</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">97.50000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">72.85000</td>
<td style="text-align: right;">36.4159992</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">60.93333</td>
<td style="text-align: right;">9.154416</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">64.41818</td>
<td style="text-align: right;">20.188453</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">59.13125</td>
<td style="text-align: right;">11.659086</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">63.07647</td>
<td style="text-align: right;">14.848086</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">62.96875</td>
<td style="text-align: right;">13.394256</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">63.06667</td>
<td style="text-align: right;">8.2778822</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">91.00000</td>
<td style="text-align: right;">21.9203102</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">72.95714</td>
<td style="text-align: right;">26.349058</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">63.50556</td>
<td style="text-align: right;">21.315873</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">104.26250</td>
<td style="text-align: right;">173.489050</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">66.11364</td>
<td style="text-align: right;">15.825425</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">68.09167</td>
<td style="text-align: right;">14.052446</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">72.56667</td>
<td style="text-align: right;">8.3930527</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">69.20000</td>
<td style="text-align: right;">0.1414214</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">74.46000</td>
<td style="text-align: right;">17.230695</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">63.67059</td>
<td style="text-align: right;">12.500138</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">66.78667</td>
<td style="text-align: right;">9.549336</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">73.22187</td>
<td style="text-align: right;">13.522806</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">65.82174</td>
<td style="text-align: right;">9.863153</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">60.87500</td>
<td style="text-align: right;">4.6800107</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">76.31429</td>
<td style="text-align: right;">9.4735471</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">66.16875</td>
<td style="text-align: right;">9.440602</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">67.37273</td>
<td style="text-align: right;">9.252361</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">77.20909</td>
<td style="text-align: right;">9.333215</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">67.40000</td>
<td style="text-align: right;">12.206883</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">71.20667</td>
<td style="text-align: right;">21.510125</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">71.56000</td>
<td style="text-align: right;">10.2600195</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">86.48000</td>
<td style="text-align: right;">25.3946101</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">70.89091</td>
<td style="text-align: right;">13.501293</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">72.18824</td>
<td style="text-align: right;">11.797186</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">남성</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">67.73636</td>
<td style="text-align: right;">14.405573</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">73.68571</td>
<td style="text-align: right;">16.877015</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">76.06000</td>
<td style="text-align: right;">22.125845</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">76.50000</td>
<td style="text-align: right;">8.8690473</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">80.53333</td>
<td style="text-align: right;">18.3988768</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">81.91429</td>
<td style="text-align: right;">14.448788</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">71.98000</td>
<td style="text-align: right;">15.796347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">52.73529</td>
<td style="text-align: right;">13.056413</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">51.02727</td>
<td style="text-align: right;">12.546481</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">49.35000</td>
<td style="text-align: right;">7.319381</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">53.00000</td>
<td style="text-align: right;">4.2426407</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">50.38000</td>
<td style="text-align: right;">6.3762842</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">59.63000</td>
<td style="text-align: right;">15.168831</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">55.63846</td>
<td style="text-align: right;">15.079596</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITEM_F002</td>
<td style="text-align: left;">여성</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">53.63846</td>
<td style="text-align: right;">16.585965</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">52.63750</td>
<td style="text-align: right;">5.889298</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">58.50000</td>
<td style="text-align: right;">14.159600</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">62.65000</td>
<td style="text-align: right;">2.0506097</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">58.05000</td>
<td style="text-align: right;">8.8925062</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">57.45000</td>
<td style="text-align: right;">11.006751</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">55.66250</td>
<td style="text-align: right;">15.383752</td>
</tr>
</tbody>
</table>


</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "복사완료!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "복사완료!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../docs/chapter-01.html" class="pagination-link" aria-label="결측자료의  발생원인과 유형">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">결측자료의 발생원인과 유형</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../docs/chapter-03.html" class="pagination-link" aria-label="통계표 출판">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">통계표 출판</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>